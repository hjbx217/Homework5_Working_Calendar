<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
      integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
    <title>Work Day Scheduler</title>
  </head>

  <body>
    <header class="jumbotron">
      <h1 class="display-3">Work Day Scheduler</h1>
      <p class="lead">A simple calendar app for scheduling your work day</p>
      <p id="currentDay" class="lead"></p>
    </header>
    <div class="container">

      <form id="Events">
        <label for="InputEvents">Add Events</label>
        <input type="text" id="InputEvents">

        <input id="save-events" type="submit" value="Add Events">
      </form>
      <div class="row time-block align-items-start" id="9"> <!--9AM row time-block align-items-start-->
        <div class="hour col-md-1 themed-grid-col">
          9 AM
        </div>
        <textarea class = "col-md-10 description themed-grid-col"></textarea>
          <button class= "btn saveBtn col-md-1">Save</button>  
      </div>
      <div class="row time-block align-items-start" id="10"> <!--10AM row time-block align-items-start-->
        <div class= "hour col-md-1 themed-grid-col"> 
          10 AM
        </div>
        <textarea class = "col-md-10 description themed-grid-col"></textarea>
          <button class= "btn saveBtn col-md-1">Save</button>  
      </div>
      
      <div class="row time-block align-items-start" id="11"> <!--11AM row time-block align-items-start-->
        <div class= "hour col-md-1 themed-grid-col"> 
          11 AM
        </div>
        <textarea class = "col-md-10 description themed-grid-col"></textarea>
          <button class= "btn saveBtn col-md-1">Save</button>  
      </div>  
      
      <div class="row time-block align-items-start" id="12"> <!--12 PM row time-block align-items-start-->
        <div class= "hour col-md-1 themed-grid-col"> 
          12 PM
        </div>
        <textarea class = "col-md-10 description themed-grid-col"></textarea>
          <button class= "btn saveBtn col-md-1">Save</button>  
      </div>   
      
      <div class="row time-block align-items-start" id="13"> <!--1 PM row time-block align-items-start-->
        <div class= "hour col-md-1 themed-grid-col"> 
          1 PM
        </div>
        <textarea class = "col-md-10 description themed-grid-col"></textarea>
          <button class= "btn saveBtn col-md-1">Save</button>  
      </div>

      <div class="row time-block align-items-start" id="14"> <!--2 PM row time-block align-items-start-->
        <div class= "hour col-md-1 themed-grid-col"> 
          2 PM
        </div>
        <textarea class = "col-md-10 description themed-grid-col"></textarea>
          <button class= "btn saveBtn col-md-1">Save</button>  
      </div>

      <div class="row time-block align-items-start" id="15"> <!--3PM row time-block align-items-start-->
        <div class= "hour col-md-1 themed-grid-col"> 
          3 PM
        </div>
        <textarea class = "col-md-10 description themed-grid-col"></textarea>
          <button class= "btn saveBtn col-md-1">Save</button>  
      </div>

      <div class="row time-block align-items-start" id="16"> <!--4PM row time-block align-items-start-->
        <div class= "hour col-md-1 themed-grid-col"> 
          4 PM
        </div>
        <textarea class = "col-md-10 description themed-grid-col"></textarea>
          <button class= "btn saveBtn col-md-1">Save</button>  
      </div>  
        
      <div class="row time-block align-items-start" id="17"> <!--5PM row time-block align-items-start-->
        <div class= "hour col-md-1 themed-grid-col"> 
          5 PM
        </div>
        <textarea class = "col-md-10 description themed-grid-col"></textarea>
          <button class= "btn saveBtn col-md-1">Save</button>  
      </div> 
      
      <div class="row time-block align-items-start" id="18"> <!--6PM row time-block align-items-start-->
        <div class= "hour col-md-1 themed-grid-col"> 
          6 PM
        </div>
        <textarea class = "col-md-10 description themed-grid-col"></textarea>
          <button class= "btn saveBtn col-md-1">Save</button>  
      </div> 
    </div>

    
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
  
  <script>

  var d = new Date(); //time stamp of currenty date & time
  document.getElementById("currentDay").innerHTML = d;

//saving the items the texts are being put in 
  $(".saveBtn").on("click",function(){
    var hour= $(this).parent().attr("id")
    //alert(hour); 
    //want to get the value of the 'sibiling'
    var txt= $(this).siblings(".description").val(); //.val getting the value of the input
    localStorage.setItem(hour, txt);
  })
$("#9 .description").val(localStorage.getItem("9")); 
$("#10 .description").val(localStorage.getItem("10"));
$("#11 .description").val(localStorage.getItem("11"));
$("#12 .description").val(localStorage.getItem("12"));
$("#13 .description").val(localStorage.getItem("13"));
$("#14 .description").val(localStorage.getItem("14"));
$("#15 .description").val(localStorage.getItem("15"));
$("#16 .description").val(localStorage.getItem("16"));
$("#17 .description").val(localStorage.getItem("17"));
$("#18 .description").val(localStorage.getItem("18"));

//for the colors, create a function, within the function you're going to have a loop .each
  function timeOfDay() {
    var currentHour= moment().hours();
    console.log(currentHour);
    $(".time-block").each(function(){

      var CH= parseInt($(this).attr("id"));//id of div classes
      console.log(CH);
      if(CH<currentHour){
        $(this).addClass("past");
      } //compare current hour with the IDs
      else if(CH==currentHour){
        $(this).addClass("present");
      }
      else {
        $(this).addClass("future");
      }
    })
  }
  timeOfDay();
  </script>  
  
  </body>
</html>
